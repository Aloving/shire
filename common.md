# Shire

Приложение по учету финансов:

## Встречающееся пометки

(?) - Под вопросом, обсудить
(!) - Обратить внимание

## Функционал

### Основной функционал
- Добавлять доходы;
- Добавлять расходы;
- Показывать настоящий баланс;
- Статистика по периодам;
- Персональные аккаунты (регистрация и авторизация);

### Дополнительный функционал
- Актуальная статистика по дням;

## Общая информация

- Проект направление на получения опыта в проектировании и опыта в react;
- Проект не большой, представляет из себя веб приложение;
- Использование полного стека js;
- Максимально отзывчивый интерфейс;
- Максимальная отказоустойчивость;

Будет такая сущность как запись, краеугольный камень всего приложения, записи будут:
- Добавляться;
- Удаляться;
- Собираться в периоды;
- Записи можно будет получать;
- Записи будут влиять на балансы;

Балансы:
- Настоящий баланс доходов (будет отображать положительный баланс денег);
- Настоящий баланс расходов (сколько было потрачено сумарно);
- Общий баланс (Баланс за вычетом доходов и расходов);

## По архитектуре

### Backend

Приложение использует стандартный подход MVC, с роутами и контроллерами:
Пользователь со стороны клиента будет "Стучаться" по предоставленным роутам (В дальнейшем ручки), получать с них нужные данные и таким образом обеспечивать функционал веб - приложения.

Примерно следующим образом это будет выглядить:
Пользователь дергает ручку =>

Приложение на node.js получает запрос =>

Уведомляет об этом контроллер =>

Контроллер проводит манипуляции с моделью =>

Отвечает пользователю этими данными;

Подробное описание подхода по ссылке ниже:

https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/routes

Описание и наименование роутов:

| Route | Information |
| - | - |
| "/expense" | Главный роут по взаимодествию с тратами |
| "/expenses/(create|read|update|delete)" | Возможные вариации роутов для взаимодействия с тратами |
| "/incomes" | Главный роут по взаимодествию с доходами |
| "/incomes/(create|read|update|delete)" | Роуты для взаимодействия с тратами |

Так-же нужно не забыть про роуты по которым можно будет получать сводку и прочую информацию, во время приступания к коду дописать в доке (!);

#### Инструменты и подходы и их обоснования
- Koa.js
  Можно использовать и альтернативный вариант express.js, не сколько пунктов за koa.js
  - Сильный механизм middleware, которые могут сильно пригодиться и облегчить работу;
  - Общее знакомство с koa.js, что может пригодиться в будущем;

- Испольнование стандартного подхода MVC
  Подход полностью покрывает нужный функционал, данный подход можно использовать как с небольшими приложениями, так и с большими. MVC хорошо подходит для веб приложений, легко понимаем, легко читаем, etc...
  
- MongoDB (mongoose.js);
  Нет каких-то точных обоснований этому, используется потому-что имеется опыт с этим;

Не сколько сущностей которые можно выделить:
- Запись, запись дохода / расхода;
- Баланс (Общий, доходы, расходы);

Что еще стоит рассмотреть:
- Вариант с валидацией входящих данных, делать валидацию отдельным методом контроллера или каким-либо еще способом;
- Написать абстрактный класс для контроллеров;
- Привести ответ с node.js к единому формату (ошибка и правильный ответ);
- Авторизация, делать авторизацию собственными силами или использовать готовые решения?;
- Написать слой для взаимодействия с записями (получени за периоды, добавление);









===============================

FOR UPDATE

- Архитектура должна определять отвественность каждого компонента (Целостная картина);
- Момент с нагрузкой:
  - Не планируется выдерживать большие нагрузки;
  - Не стоит уделять этому пункту много времени;

- Английский язык (?);

- Хотелось бы сделать максимально отзывчивый интерфейс, и уделить достаточно времени обработки ошибок
  - Максимальная обработка ошибок;
  - Хороший, продуманный error flow;
  - Максимальная отказоустойчивость (способность программы восстанавливаться при ошибках);
  - Имеется идея синглтона для ошибок (!);

Имеется не большие противоречия, а именно:
> Не нужно разрабывать одни части в ущерб другим;

Поэтому нужно придумать достаточные обоснования для хорошей обработки ошибок,
на данный момент это максимально хороший UX;

- Не забывать про такой показатель как 60 фпс;

#### Адаптация к изменениям

Хотелось бы этот пункт выделить отдельно:

Сначала будет реализовываться основной функционал / основные классы;
Из-за того что фукнционал приложения не будет большим, не стоит делать
упор при проектировании архитектуры на масштабируемость и адаптацию к
изменениям. Безусловно это хороший пункт, но, неожиданных изменений не планируется,
не рассматривается и так-же расширение приложения, при этих требованиях адаптация
к изменениям не требуется.
